import{r as t,a as h,V as p,j as e,x as j,y as g,z as _,A as b,s as w,N as y,b as N}from"./index-BvSoqA-Z.js";import{g as v}from"./order-CAVT0cZf.js";import{u as P}from"./chunk-R6AK6OQ4-BfRhABQq.js";import{t as E,c as q,e as A,f as C,g as L,h as z}from"./Icons-Dq4C29eR.js";const I=[{name:"NOMBRE",uid:"name"},{name:"CANTIDAD",uid:"quantity"},{name:"PRECIO TOTAL",uid:"totalPrice"}],F=({id:n,isOpen:i,onClose:o})=>{const[l,u]=t.useState(null),[x,c]=t.useState(!1);t.useEffect(()=>{c(!0),v(n).then(a=>{u(a.data.data.orderItems)}).catch(a=>{console.log(a),h.error("Error al cargar los productos")}).finally(()=>{c(!1)})},[n]);const m=t.useMemo(()=>l||[],[l]),f=p.useCallback((a,s)=>{const r=a[s];switch(s){case"name":return e.jsx(P,{avatarProps:{radius:"lg",src:a.product.imagen},description:e.jsx("div",{className:" flex items-center justify-center gap-2",children:e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"flex text-yellow-500",children:[...Array(5)].map((O,d)=>e.jsx("svg",{className:`h-4 w-4 fill-current ${a.product.ratingAverage-.5>d?"text-yellow-500":"text-gray-300"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 15l-5.878 3.09 1.122-6.545L.368 6.91l6.564-.955L10 0l3.068 5.955 6.564.955-4.878 4.635 1.122 6.545z"})},d))})})}),name:a.product.name});case"quantity":return e.jsx("div",{className:"flex  justify-center",children:e.jsx("p",{className:"text-bold text-sm capitalize",children:a.quantity})});case"totalPrice":return e.jsx("div",{className:"flex justify-center ",children:e.jsx("p",{className:"text-bold text-sm capitalize",children:a.price})});default:return String(r)}},[]);return e.jsx(e.Fragment,{children:e.jsx(j,{classNames:{body:"px-1"},backdrop:"opaque",isOpen:i,onClose:o,size:"xl",children:e.jsx(g,{children:a=>e.jsxs(e.Fragment,{children:[e.jsxs(_,{className:"flex items-end  space-x-2 gap-1 font-[sans-serif] ",children:[e.jsx("img",{src:"./logo.webp",alt:"Logo reycel",className:"w-10 h-8"}),e.jsx("h1",{className:"text-2xl font-bold",children:"Productos de la Orden"})]}),e.jsx(b,{children:e.jsxs(E,{"aria-label":"Example table with custom cells",shadow:"none",isHeaderSticky:!0,classNames:{wrapper:"max-h-[500px] max-w-full"},children:[e.jsx(q,{columns:I,children:s=>e.jsx(A,{align:s.uid==="quantity"||s.uid==="totalPrice"?"center":"start",children:s.name},s.uid)}),e.jsx(C,{items:m,isLoading:x,loadingContent:e.jsx(w,{color:"warning"}),children:s=>e.jsx(L,{children:r=>e.jsx(z,{children:f(s,r)})},s.id)})]})}),e.jsx(y,{className:"flex min-w-full justify-end gap-3",children:e.jsx(N,{color:"danger",variant:"light",onPress:a,children:"Cancelar"})})]})})})})};export{F as default};
